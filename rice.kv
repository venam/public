#:kivy 1.8.0

<TitleBar>:
	size_hint_y: 0.05
	canvas:
		Color:
			rgba: 0.35, 0.35, 0.35, 1
		Rectangle:
			size: self.size
			pos: self.pos

	Prompt:
		size_hint_x: 0.3
		size: self.width, root.height
		halign: 'right'
		center_x: root.center_x
		center_y: root.height - self.texture_size[1]

	Label:
#		size_hint_x: 0.05
		text: "Rice Keep"
		font_size: '28sp'
		halign: 'center'
		size: self.width, self.height


<LoadDialog>:
	BoxLayout:
		size: root.size
		pos: root.pos
		orientation: "vertical"
		FileChooserListView:
			id: filechooser

		BoxLayout:
			size_hint_y: None
			height: 30
			Button:
				text: "Cancel"
				on_release: root.cancel()

			Button:
				text: "Load"
				on_release: root.load(filechooser.path, filechooser.selection)

<SaveDialog>:
	text_input: text_input
	BoxLayout:
		size: root.size
		pos: root.pos
		orientation: "vertical"
		FileChooserListView:
			id: filechooser
			on_selection: text_input.text = self.selection and self.selection[0] or ''

		TextInput:
			id: text_input
			size_hint_y: None
			height: 30
			multiline: False

		BoxLayout:
			size_hint_y: None
			height: 30
			Button:
				text: "Cancel"
				on_release: root.cancel()

			Button:
				text: "Save"
				on_release: root.save(filechooser.path, text_input.text)

<Bbar@Button>:
	text: "I'm a button!"

<ButtonBar>:
	size_hint_y: 0.05

	Bbar:
		text: "Import"
		on_release:  root.showImport()

	Bbar:
		text: "Export"
		on_release: root.showExport()

	Bbar:
		text: "Output"
		on_release: root.showOutput()

	Bbar:
		text: "Update"
		on_release: root.showUpdate()

	Bbar:
		text: "Help"
		on_release: root.showHelp()

<SwitchScreen>:
#	size_hint_y: 0.08
	accordion: acco
	infos: info

	canvas:
		Color:
			rgba: 0.15, 0.15, 0.15, 0
		Rectangle:
			size: root.width, root.height*0.05
			pos: self.x, root.center_y

	AccordionThing:
		id: acco
		
		size_hint_x: 0.3

	Widget:
		size_hint_x: 0.01
		canvas:
			Color:
				rgba: 0.35, 0.35, 0.35, 1
			Rectangle:
				size: self.size
				pos: self.pos

	InfoScreen:
		id: info
#		size_hint_x: 0.69
#		orientation: "vertical"

<HeadInfo>:
	header: head
	riced: riceCheckBox
	size_hint_y: 0.05

	Label:
		id: head
#		size_hint_y: 0.05
		font_size: "20sp"
		size: root.width/2, root.height
		pos: root.center_x - self.width/2, root.center_y - root.height/2

	CheckBox:
		id: riceCheckBox
		size: root.width/2, root.height
		pos: root.width - self.width/6, root.center_y - self.height/2

	Label:
		text: "Riced"
		font_size: "20sp"
		size: root.width/2, root.height
		pos: root.width, root.center_y - self.height/2
